<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rahul Sabale Photography</title>
  <link rel="stylesheet" href="style.css">
  <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ENjdO4Dr2bkBIFxQpeoE1tw3vHkC8z6m2z9q3V9zzTtmI3UksdQRVvoxMfooAo6s" crossorigin="anonymous">

</head>
<body>

   <!-- HEADER -->
  <header>
    <div class="nav-container">
      <!-- LOGO -->
      <div class="logo">
        <a href="index.html">
          <img src="Images/Logo2.png" alt="Rahul Sabale Photography Logo">
        </a>
      </div>

      <!-- NAV MENU -->
      <nav>
        <ul id="navLinks">
          <li><a href="#about">About Us</a></li>
          <li><a href="#prewedding">Pre-Wedding</a></li>
          <li><a href="#wedding">Wedding</a></li>
          <li><a href="#maternity">Maternity</a></li>
          <li><a href="#babyshoot">Baby-Shoot</a></li>
          <li><a href="#modelshoot">Model Shoot</a></li>
          <li><a href="#cinematic">Cinematic Shoot</a></li>
          <li><a href="#packages">Packages</a></li>
          <li><a href="#contact">Contact Us</a></li>
        </ul>
      </nav>

      <!-- TOGGLE BUTTON -->
      <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </header>

<!-- Hero Section with Background Video -->
<section class="hero" id="heroSection">
  <video autoplay muted loop playsinline class="hero-video" id="heroVideo">
    <source src="Images/Videos/Hero-video-2.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <div class="overlay"></div>
  <div class="hero-content">
    <h1>Rahul Sabale Photography</h1>
    <p>Capturing Your Precious Moments Forever</p>
    <a href="#contact" class="btn">Book Now</a>
  </div>
</section>

<p style="height:200vh;">
  Scroll down to test.<br>
  ðŸŽ¥ Video should start muted â†’ when visible + after first user scroll/click, sound ON.<br>
  ðŸ”‡ When scrolled away, sound OFF + video paused.
</p>

  <script>
    // Mobile menu toggle
    const menuToggle = document.getElementById("menuToggle");
    const navLinks = document.getElementById("navLinks");

    menuToggle.addEventListener("click", () => {
      navLinks.classList.toggle("open");
    });
  </script>

<script>
const video = document.getElementById("heroVideo");
const hero = document.getElementById("heroSection");

// Start muted autoplay
video.muted = true;
video.play().catch(err => console.log("Autoplay blocked:", err));

let userInteracted = false;

// Function to unlock audio
const unlockAudio = () => {
  userInteracted = true;
  // If hero is currently in view, unmute immediately
  const rect = hero.getBoundingClientRect();
  const inView = rect.top < window.innerHeight && rect.bottom > 0;
  if (inView) {
    video.muted = false;
    video.volume = 1.0;
  }
  window.removeEventListener("scroll", unlockAudio);
  window.removeEventListener("click", unlockAudio);
};

// Listen for first user interaction
window.addEventListener("scroll", unlockAudio, { once: true });
window.addEventListener("click", unlockAudio, { once: true });

// IntersectionObserver to handle video play/pause based on hero visibility
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      // Hero in view â†’ play
      video.play().catch(err => console.log("Play error:", err));
      // Only unmute if user already interacted
      if (userInteracted) {
        video.muted = false;
        video.volume = 1.0;
      }
    } else {
      // Hero out of view â†’ pause & mute
      video.pause();
      video.muted = true;
    }
  });
}, { threshold: 0.5 }); // 50% visibility

observer.observe(hero);
</script>

</body>
</html>
